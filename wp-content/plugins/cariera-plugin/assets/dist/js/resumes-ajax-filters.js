jQuery(document).ready((function(e){var a=[];if(e(".resumes").on("update_results",(function(s,r,t){var i=e(this),n=e(".resume_filters"),d=e(".showing_resumes"),o=i.find(".resumes"),l=i.data("per_page"),u=i.data("orderby"),c=i.data("order"),_=i.data("featured"),h=e("div.resumes").index(this),m=e(".listing-loader"),g=i.data("resume_layout"),p=i.data("resume_version");a[h]&&a[h].abort(),t?(e(".load_more_resumes",i).addClass("loading"),e(m).fadeIn()):(e(o).addClass("loading"),e(m).fadeIn(),e("li.resume, li.no_resumes_found",o).css("visibility","hidden"));var f=n.find(':input[name^="search_categories"]').map((function(){return e(this).val()})).get(),v="",y="",w=n.find(':input[name="search_keywords"]'),b=n.find(':input[name="search_location"]');w.val()!=w.attr("placeholder")&&(v=w.val()),b.val()!=b.attr("placeholder")&&(y=b.val());var k={action:"resume_manager_get_resumes",search_keywords:v,search_location:y,search_categories:f,per_page:l,orderby:u,order:c,page:r,featured:_,show_pagination:i.data("show_pagination"),form_data:n.serialize(),resume_layout:g,resume_version:p};a[h]=e.ajax({type:"POST",url:resume_manager_ajax_filters.ajax_url,data:k,success:function(a){if(a)try{a.showing?e(d).show().html("").append("<span>"+a.showing+"</span>"+a.showing_links):e(d).hide(),a.html&&(t?e(o).append(a.html):e(o).html(a.html)),1==i.data("show_pagination")?(i.find(".job-manager-pagination").remove(),a.pagination&&i.append(a.pagination)):(a.found_resumes&&a.max_num_pages!==r?e(".load_more_resumes",i).show().data("page",r):e(".load_more_resumes",i).hide(),e(".load_more_resumes",i).removeClass("loading"),e(m).fadeOut(),e("li.resume",o).css("visibility","visible")),e(o).removeClass("loading"),e(m).fadeOut(),i.triggerHandler("updated_results",a)}catch(e){}}})})),e("#search_keywords, #search_location, #search_radius, #search_categories, #search_skills, #search_by_rate").change((function(){e("div.resumes").triggerHandler("update_results",[1,!1])})).change().on("keyup",(function(a){13===a.which&&e(this).trigger("change")})),e(".resume_filters").on("click",".reset",(function(){var a=e("div.resumes"),s=e(this).closest("form");return s.find(':input[name="search_keywords"]').not(':input[type="hidden"]').val(""),s.find(':input[name="search_location"]').not(':input[type="hidden"]').val(""),s.find(':input[name^="search_categories"]').not(':input[type="hidden"]').val(0).trigger("chosen:updated").trigger("change.select2"),s.find(':input[name^="search_skills"]').not(':input[type="hidden"]').val(0).trigger("chosen:updated").trigger("change.select2"),s.find(':input[name="search_by_rate"]').not(':input[type="hidden"]').val(""),a.triggerHandler("reset"),a.triggerHandler("update_results",[1,!1]),!1})),e(".load_more_resumes").click((function(){var a=e(this).closest("div.resumes"),s=e(this).data("page");return s=s?parseInt(s):1,e(this).data("page",s+1),a.triggerHandler("update_results",[s+1,!0]),!1})),e("div.resumes").on("click",".job-manager-pagination a",(function(){var a=e(this).closest("div.resumes"),s=e(this).data("page");return a.triggerHandler("update_results",[s,!1]),!1})),e.isFunction(e.fn.select2)){var s={allowClear:!0,minimumResultsForSearch:10};1===parseInt(resume_manager_ajax_filters.is_rtl,10)&&(s.dir="rtl"),e('select[name^="search_categories"]:visible').select2(s)}else e.isFunction(e.fn.chosen)&&e('select[name^="search_categories"]:visible').chosen()}));